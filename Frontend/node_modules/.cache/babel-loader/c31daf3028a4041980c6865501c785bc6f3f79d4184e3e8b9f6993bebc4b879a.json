{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst jsx_runtime_1 = require(\"react/jsx-runtime\");\nconst react_1 = require(\"react\");\nconst make_cancellable_promise_1 = __importDefault(require(\"make-cancellable-promise\"));\nconst tiny_invariant_1 = __importDefault(require(\"tiny-invariant\"));\nconst warning_1 = __importDefault(require(\"warning\"));\nconst pdfjs_js_1 = __importDefault(require(\"../pdfjs.js\"));\nconst usePageContext_js_1 = __importDefault(require(\"../shared/hooks/usePageContext.js\"));\nconst useResolver_js_1 = __importDefault(require(\"../shared/hooks/useResolver.js\"));\nconst utils_js_1 = require(\"../shared/utils.js\");\nfunction PageSVG() {\n  const pageContext = (0, usePageContext_js_1.default)();\n  (0, tiny_invariant_1.default)(pageContext, 'Unable to find Page context.');\n  const {\n    _className,\n    onRenderSuccess: onRenderSuccessProps,\n    onRenderError: onRenderErrorProps,\n    page,\n    rotate,\n    scale\n  } = pageContext;\n  (0, tiny_invariant_1.default)(page, 'Attempted to render page SVG, but no page was specified.');\n  const [svgState, svgDispatch] = (0, useResolver_js_1.default)();\n  const {\n    value: svg,\n    error: svgError\n  } = svgState;\n  /**\n   * Called when a page is rendered successfully\n   */\n  function onRenderSuccess() {\n    if (!page) {\n      // Impossible, but TypeScript doesn't know that\n      return;\n    }\n    if (onRenderSuccessProps) {\n      onRenderSuccessProps((0, utils_js_1.makePageCallback)(page, scale));\n    }\n  }\n  /**\n   * Called when a page fails to render\n   */\n  function onRenderError() {\n    if (!svgError) {\n      // Impossible, but TypeScript doesn't know that\n      return;\n    }\n    if ((0, utils_js_1.isCancelException)(svgError)) {\n      return;\n    }\n    (0, warning_1.default)(false, svgError.toString());\n    if (onRenderErrorProps) {\n      onRenderErrorProps(svgError);\n    }\n  }\n  const viewport = (0, react_1.useMemo)(() => page.getViewport({\n    scale,\n    rotation: rotate\n  }), [page, rotate, scale]);\n  function resetSVG() {\n    svgDispatch({\n      type: 'RESET'\n    });\n  }\n  (0, react_1.useEffect)(resetSVG, [page, svgDispatch, viewport]);\n  function renderSVG() {\n    if (!page) {\n      return;\n    }\n    const cancellable = (0, make_cancellable_promise_1.default)(page.getOperatorList());\n    cancellable.promise.then(operatorList => {\n      const svgGfx = new pdfjs_js_1.default.SVGGraphics(page.commonObjs, page.objs);\n      svgGfx.getSVG(operatorList, viewport).then(nextSvg => {\n        // See https://github.com/mozilla/pdf.js/issues/16745\n        if (!(nextSvg instanceof SVGElement)) {\n          throw new Error('getSVG returned unexpected result.');\n        }\n        svgDispatch({\n          type: 'RESOLVE',\n          value: nextSvg\n        });\n      }).catch(error => {\n        svgDispatch({\n          type: 'REJECT',\n          error\n        });\n      });\n    }).catch(error => {\n      svgDispatch({\n        type: 'REJECT',\n        error\n      });\n    });\n    return () => (0, utils_js_1.cancelRunningTask)(cancellable);\n  }\n  (0, react_1.useEffect)(renderSVG, [page, svgDispatch, viewport]);\n  (0, react_1.useEffect)(() => {\n    if (svg === undefined) {\n      return;\n    }\n    if (svg === false) {\n      onRenderError();\n      return;\n    }\n    onRenderSuccess();\n  },\n  // Ommitted callbacks so they are not called every time they change\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  [svg]);\n  function drawPageOnContainer(element) {\n    if (!element || !svg) {\n      return;\n    }\n    // Append SVG element to the main container, if this hasn't been done already\n    if (!element.firstElementChild) {\n      element.appendChild(svg);\n    }\n    const {\n      width,\n      height\n    } = viewport;\n    svg.setAttribute('width', `${width}`);\n    svg.setAttribute('height', `${height}`);\n  }\n  const {\n    width,\n    height\n  } = viewport;\n  return (0, jsx_runtime_1.jsx)(\"div\", {\n    className: `${_className}__svg`,\n    // Note: This cannot be shortened, as we need this function to be called with each render.\n    ref: ref => drawPageOnContainer(ref),\n    style: {\n      display: 'block',\n      backgroundColor: 'white',\n      overflow: 'hidden',\n      width,\n      height,\n      userSelect: 'none'\n    }\n  });\n}\nexports.default = PageSVG;","map":{"version":3,"names":["__importDefault","mod","__esModule","Object","defineProperty","exports","value","jsx_runtime_1","require","react_1","make_cancellable_promise_1","tiny_invariant_1","warning_1","pdfjs_js_1","usePageContext_js_1","useResolver_js_1","utils_js_1","PageSVG","pageContext","default","_className","onRenderSuccess","onRenderSuccessProps","onRenderError","onRenderErrorProps","page","rotate","scale","svgState","svgDispatch","svg","error","svgError","makePageCallback","isCancelException","toString","viewport","useMemo","getViewport","rotation","resetSVG","type","useEffect","renderSVG","cancellable","getOperatorList","promise","then","operatorList","svgGfx","SVGGraphics","commonObjs","objs","getSVG","nextSvg","SVGElement","Error","catch","cancelRunningTask","undefined","drawPageOnContainer","element","firstElementChild","appendChild","width","height","setAttribute","jsx","className","ref","style","display","backgroundColor","overflow","userSelect"],"sources":["/Users/rohit/Documents/Cohere/prepgpt/Frontend/node_modules/react-pdftotext/node_modules/react-pdf/dist/cjs/Page/PageSVG.js"],"sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst jsx_runtime_1 = require(\"react/jsx-runtime\");\nconst react_1 = require(\"react\");\nconst make_cancellable_promise_1 = __importDefault(require(\"make-cancellable-promise\"));\nconst tiny_invariant_1 = __importDefault(require(\"tiny-invariant\"));\nconst warning_1 = __importDefault(require(\"warning\"));\nconst pdfjs_js_1 = __importDefault(require(\"../pdfjs.js\"));\nconst usePageContext_js_1 = __importDefault(require(\"../shared/hooks/usePageContext.js\"));\nconst useResolver_js_1 = __importDefault(require(\"../shared/hooks/useResolver.js\"));\nconst utils_js_1 = require(\"../shared/utils.js\");\nfunction PageSVG() {\n    const pageContext = (0, usePageContext_js_1.default)();\n    (0, tiny_invariant_1.default)(pageContext, 'Unable to find Page context.');\n    const { _className, onRenderSuccess: onRenderSuccessProps, onRenderError: onRenderErrorProps, page, rotate, scale, } = pageContext;\n    (0, tiny_invariant_1.default)(page, 'Attempted to render page SVG, but no page was specified.');\n    const [svgState, svgDispatch] = (0, useResolver_js_1.default)();\n    const { value: svg, error: svgError } = svgState;\n    /**\n     * Called when a page is rendered successfully\n     */\n    function onRenderSuccess() {\n        if (!page) {\n            // Impossible, but TypeScript doesn't know that\n            return;\n        }\n        if (onRenderSuccessProps) {\n            onRenderSuccessProps((0, utils_js_1.makePageCallback)(page, scale));\n        }\n    }\n    /**\n     * Called when a page fails to render\n     */\n    function onRenderError() {\n        if (!svgError) {\n            // Impossible, but TypeScript doesn't know that\n            return;\n        }\n        if ((0, utils_js_1.isCancelException)(svgError)) {\n            return;\n        }\n        (0, warning_1.default)(false, svgError.toString());\n        if (onRenderErrorProps) {\n            onRenderErrorProps(svgError);\n        }\n    }\n    const viewport = (0, react_1.useMemo)(() => page.getViewport({ scale, rotation: rotate }), [page, rotate, scale]);\n    function resetSVG() {\n        svgDispatch({ type: 'RESET' });\n    }\n    (0, react_1.useEffect)(resetSVG, [page, svgDispatch, viewport]);\n    function renderSVG() {\n        if (!page) {\n            return;\n        }\n        const cancellable = (0, make_cancellable_promise_1.default)(page.getOperatorList());\n        cancellable.promise\n            .then((operatorList) => {\n            const svgGfx = new pdfjs_js_1.default.SVGGraphics(page.commonObjs, page.objs);\n            svgGfx\n                .getSVG(operatorList, viewport)\n                .then((nextSvg) => {\n                // See https://github.com/mozilla/pdf.js/issues/16745\n                if (!(nextSvg instanceof SVGElement)) {\n                    throw new Error('getSVG returned unexpected result.');\n                }\n                svgDispatch({ type: 'RESOLVE', value: nextSvg });\n            })\n                .catch((error) => {\n                svgDispatch({ type: 'REJECT', error });\n            });\n        })\n            .catch((error) => {\n            svgDispatch({ type: 'REJECT', error });\n        });\n        return () => (0, utils_js_1.cancelRunningTask)(cancellable);\n    }\n    (0, react_1.useEffect)(renderSVG, [page, svgDispatch, viewport]);\n    (0, react_1.useEffect)(() => {\n        if (svg === undefined) {\n            return;\n        }\n        if (svg === false) {\n            onRenderError();\n            return;\n        }\n        onRenderSuccess();\n    }, \n    // Ommitted callbacks so they are not called every time they change\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [svg]);\n    function drawPageOnContainer(element) {\n        if (!element || !svg) {\n            return;\n        }\n        // Append SVG element to the main container, if this hasn't been done already\n        if (!element.firstElementChild) {\n            element.appendChild(svg);\n        }\n        const { width, height } = viewport;\n        svg.setAttribute('width', `${width}`);\n        svg.setAttribute('height', `${height}`);\n    }\n    const { width, height } = viewport;\n    return ((0, jsx_runtime_1.jsx)(\"div\", { className: `${_className}__svg`, \n        // Note: This cannot be shortened, as we need this function to be called with each render.\n        ref: (ref) => drawPageOnContainer(ref), style: {\n            display: 'block',\n            backgroundColor: 'white',\n            overflow: 'hidden',\n            width,\n            height,\n            userSelect: 'none',\n        } }));\n}\nexports.default = PageSVG;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}